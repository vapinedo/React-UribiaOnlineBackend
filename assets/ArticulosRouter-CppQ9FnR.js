import{r as k,e as Fr,j as c,c as ur,g as Se,f as Rr,h as Ir,i as cr,k as fr,l as dr,m as Nr,T as pr,u as mr,a as gr,b as Mr,B as Ve,C as Lr,F as He,I as qe,S as Ge,n as zr,N as Br,R as $r,d as De}from"./index-B8iO6XQY.js";import{F as Vr,c as Kr,p as Wr,u as Ur,M as Ze,A as Hr,B as qr,D as Gr,G as Zr,I as Qr,a as Xr,b as Yr}from"./DataGrid-BRn6vVrE.js";import{P as V}from"./index-PO9Yw8A2.js";function ge(e,r,t,n){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function u(p){try{s(n.next(p))}catch(m){i(m)}}function h(p){try{s(n.throw(p))}catch(m){i(m)}}function s(p){p.done?a(p.value):o(p.value).then(u,h)}s((n=n.apply(e,r||[])).next())})}function he(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(s){return function(p){return h([s,p])}}function h(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(t=0)),t;)try{if(n=1,o&&(a=s[0]&2?o.return:s[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;switch(o=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,o=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){t.label=s[1];break}if(s[0]===6&&t.label<a[1]){t.label=a[1],a=s;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(s);break}a[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(p){s=[6,p],o=0}finally{n=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Qe(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(u){i={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a}function Xe(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}var Jr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function we(e,r){var t=et(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function et(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Jr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var rt=[".DS_Store","Thumbs.db"];function tt(e){return ge(this,void 0,void 0,function(){return he(this,function(r){return Ae(e)&&nt(e.dataTransfer)?[2,st(e.dataTransfer,e.type)]:ot(e)?[2,at(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,it(e)]:[2,[]]})})}function nt(e){return Ae(e)}function ot(e){return Ae(e)&&Ae(e.target)}function Ae(e){return typeof e=="object"&&e!==null}function at(e){return Me(e.target.files).map(function(r){return we(r)})}function it(e){return ge(this,void 0,void 0,function(){var r;return he(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return we(n)})]}})})}function st(e,r){return ge(this,void 0,void 0,function(){var t,n;return he(this,function(o){switch(o.label){case 0:return e.items?(t=Me(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(lt))]):[3,2];case 1:return n=o.sent(),[2,Ye(hr(n))];case 2:return[2,Ye(Me(e.files).map(function(a){return we(a)}))]}})})}function Ye(e){return e.filter(function(r){return rt.indexOf(r.name)===-1})}function Me(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function lt(e){if(typeof e.webkitGetAsEntry!="function")return Je(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?vr(r):Je(e)}function hr(e){return e.reduce(function(r,t){return Xe(Xe([],Qe(r),!1),Qe(Array.isArray(t)?hr(t):[t]),!1)},[])}function Je(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=we(r);return Promise.resolve(t)}function ut(e){return ge(this,void 0,void 0,function(){return he(this,function(r){return[2,e.isDirectory?vr(e):ct(e)]})})}function vr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function a(){var i=this;r.readEntries(function(u){return ge(i,void 0,void 0,function(){var h,s,p;return he(this,function(m){switch(m.label){case 0:if(u.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return h=m.sent(),t(h),[3,4];case 3:return s=m.sent(),n(s),[3,4];case 4:return[3,6];case 5:p=Promise.all(u.map(ut)),o.push(p),a(),m.label=6;case 6:return[2]}})})},function(u){n(u)})}a()})}function ct(e){return ge(this,void 0,void 0,function(){return he(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var a=we(o,e.fullPath);t(a)},function(o){n(o)})})]})})}var ft=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return t.some(function(i){var u=i.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):o===u})}return!0};function er(e){return mt(e)||pt(e)||yr(e)||dt()}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mt(e){if(Array.isArray(e))return Le(e)}function rr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function tr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rr(Object(t),!0).forEach(function(n){br(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function br(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ye(e,r){return vt(e)||ht(e,r)||yr(e,r)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(e,r){if(e){if(typeof e=="string")return Le(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Le(e,r)}}function Le(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ht(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,i,u;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(h){a=!0,u=h}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function vt(e){if(Array.isArray(e))return e}var bt="file-invalid-type",yt="file-too-large",xt="file-too-small",wt="too-many-files",jt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:bt,message:"File type must be ".concat(t)}},nr=function(r){return{code:yt,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},or=function(r){return{code:xt,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Dt={code:wt,message:"Too many files"};function xr(e,r){var t=e.type==="application/x-moz-file"||ft(e,r);return[t,t?null:jt(r)]}function wr(e,r,t){if(pe(e.size))if(pe(r)&&pe(t)){if(e.size>t)return[!1,nr(t)];if(e.size<r)return[!1,or(r)]}else{if(pe(r)&&e.size<r)return[!1,or(r)];if(pe(t)&&e.size>t)return[!1,nr(t)]}return[!0,null]}function pe(e){return e!=null}function Ot(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,a=e.multiple,i=e.maxFiles,u=e.validator;return!a&&r.length>1||a&&i>=1&&r.length>i?!1:r.every(function(h){var s=xr(h,t),p=ye(s,1),m=p[0],O=wr(h,n,o),F=ye(O,1),w=F[0],g=u?u(h):null;return m&&w&&!g})}function Ce(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Oe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ar(e){e.preventDefault()}function At(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Ct(e){return e.indexOf("Edge/")!==-1}function Et(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return At(e)||Ct(e)}function de(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return r.some(function(u){return!Ce(n)&&u&&u.apply(void 0,[n].concat(a)),Ce(n)})}}function St(){return"showOpenFilePicker"in window}function kt(e){if(pe(e)){var r=Object.entries(e).filter(function(t){var n=ye(t,2),o=n[0],a=n[1],i=!0;return jr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(Dr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var o=ye(n,2),a=o[0],i=o[1];return tr(tr({},t),{},br({},a,i))},{});return[{description:"Files",accept:r}]}return e}function Pt(e){if(pe(e))return Object.entries(e).reduce(function(r,t){var n=ye(t,2),o=n[0],a=n[1];return[].concat(er(r),[o],er(a))},[]).filter(function(r){return jr(r)||Dr(r)}).join(",")}function Tt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function _t(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function jr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Dr(e){return/^.*\.[\w]+$/.test(e)}var Ft=["children"],Rt=["open"],It=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Nt=["refKey","onChange","onClick"];function Mt(e){return Bt(e)||zt(e)||Or(e)||Lt()}function Lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bt(e){if(Array.isArray(e))return ze(e)}function Ne(e,r){return Kt(e)||Vt(e,r)||Or(e,r)||$t()}function $t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(e,r){if(e){if(typeof e=="string")return ze(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ze(e,r)}}function ze(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Vt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,i,u;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));o=!0);}catch(h){a=!0,u=h}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function Kt(e){if(Array.isArray(e))return e}function ir(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function G(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ir(Object(t),!0).forEach(function(n){Be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Be(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ee(e,r){if(e==null)return{};var t=Wt(e,r),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Wt(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Ke=k.forwardRef(function(e,r){var t=e.children,n=Ee(e,Ft),o=Cr(n),a=o.open,i=Ee(o,Rt);return k.useImperativeHandle(r,function(){return{open:a}},[a]),Fr.createElement(k.Fragment,null,t(G(G({},i),{},{open:a})))});Ke.displayName="Dropzone";var Ar={disabled:!1,getFilesFromEvent:tt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ke.defaultProps=Ar;Ke.propTypes={children:V.func,accept:V.objectOf(V.arrayOf(V.string)),multiple:V.bool,preventDropOnDocument:V.bool,noClick:V.bool,noKeyboard:V.bool,noDrag:V.bool,noDragEventsBubbling:V.bool,minSize:V.number,maxSize:V.number,maxFiles:V.number,disabled:V.bool,getFilesFromEvent:V.func,onFileDialogCancel:V.func,onFileDialogOpen:V.func,useFsAccessApi:V.bool,autoFocus:V.bool,onDragEnter:V.func,onDragLeave:V.func,onDragOver:V.func,onDrop:V.func,onDropAccepted:V.func,onDropRejected:V.func,onError:V.func,validator:V.func};var $e={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Cr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=G(G({},Ar),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,a=r.maxSize,i=r.minSize,u=r.multiple,h=r.maxFiles,s=r.onDragEnter,p=r.onDragLeave,m=r.onDragOver,O=r.onDrop,F=r.onDropAccepted,w=r.onDropRejected,g=r.onFileDialogCancel,D=r.onFileDialogOpen,b=r.useFsAccessApi,E=r.autoFocus,P=r.preventDropOnDocument,B=r.noClick,$=r.noKeyboard,x=r.noDrag,l=r.noDragEventsBubbling,d=r.onError,v=r.validator,S=k.useMemo(function(){return Pt(t)},[t]),A=k.useMemo(function(){return kt(t)},[t]),C=k.useMemo(function(){return typeof D=="function"?D:sr},[D]),ee=k.useMemo(function(){return typeof g=="function"?g:sr},[g]),_=k.useRef(null),I=k.useRef(null),y=k.useReducer(Ut,$e),T=Ne(y,2),N=T[0],M=T[1],J=N.isFocused,W=N.isFileDialogActive,L=k.useRef(typeof window<"u"&&window.isSecureContext&&b&&St()),ae=function(){!L.current&&W&&setTimeout(function(){if(I.current){var j=I.current.files;j.length||(M({type:"closeDialog"}),ee())}},300)};k.useEffect(function(){return window.addEventListener("focus",ae,!1),function(){window.removeEventListener("focus",ae,!1)}},[I,W,ee,L]);var U=k.useRef([]),te=function(j){_.current&&_.current.contains(j.target)||(j.preventDefault(),U.current=[])};k.useEffect(function(){return P&&(document.addEventListener("dragover",ar,!1),document.addEventListener("drop",te,!1)),function(){P&&(document.removeEventListener("dragover",ar),document.removeEventListener("drop",te))}},[_,P]),k.useEffect(function(){return!n&&E&&_.current&&_.current.focus(),function(){}},[_,E,n]);var H=k.useCallback(function(f){d?d(f):console.error(f)},[d]),se=k.useCallback(function(f){f.preventDefault(),f.persist(),fe(f),U.current=[].concat(Mt(U.current),[f.target]),Oe(f)&&Promise.resolve(o(f)).then(function(j){if(!(Ce(f)&&!l)){var Y=j.length,oe=Y>0&&Ot({files:j,accept:S,minSize:i,maxSize:a,multiple:u,maxFiles:h,validator:v}),ue=Y>0&&!oe;M({isDragAccept:oe,isDragReject:ue,isDragActive:!0,type:"setDraggedFiles"}),s&&s(f)}}).catch(function(j){return H(j)})},[o,s,H,l,S,i,a,u,h,v]),ce=k.useCallback(function(f){f.preventDefault(),f.persist(),fe(f);var j=Oe(f);if(j&&f.dataTransfer)try{f.dataTransfer.dropEffect="copy"}catch{}return j&&m&&m(f),!1},[m,l]),z=k.useCallback(function(f){f.preventDefault(),f.persist(),fe(f);var j=U.current.filter(function(oe){return _.current&&_.current.contains(oe)}),Y=j.indexOf(f.target);Y!==-1&&j.splice(Y,1),U.current=j,!(j.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Oe(f)&&p&&p(f))},[_,p,l]),le=k.useCallback(function(f,j){var Y=[],oe=[];f.forEach(function(ue){var ve=xr(ue,S),me=Ne(ve,2),ke=me[0],Pe=me[1],Te=wr(ue,i,a),je=Ne(Te,2),_e=je[0],Fe=je[1],Re=v?v(ue):null;if(ke&&_e&&!Re)Y.push(ue);else{var Ie=[Pe,Fe];Re&&(Ie=Ie.concat(Re)),oe.push({file:ue,errors:Ie.filter(function(_r){return _r})})}}),(!u&&Y.length>1||u&&h>=1&&Y.length>h)&&(Y.forEach(function(ue){oe.push({file:ue,errors:[Dt]})}),Y.splice(0)),M({acceptedFiles:Y,fileRejections:oe,type:"setFiles"}),O&&O(Y,oe,j),oe.length>0&&w&&w(oe,j),Y.length>0&&F&&F(Y,j)},[M,u,S,i,a,h,O,F,w,v]),ie=k.useCallback(function(f){f.preventDefault(),f.persist(),fe(f),U.current=[],Oe(f)&&Promise.resolve(o(f)).then(function(j){Ce(f)&&!l||le(j,f)}).catch(function(j){return H(j)}),M({type:"reset"})},[o,le,H,l]),Z=k.useCallback(function(){if(L.current){M({type:"openDialog"}),C();var f={multiple:u,types:A};window.showOpenFilePicker(f).then(function(j){return o(j)}).then(function(j){le(j,null),M({type:"closeDialog"})}).catch(function(j){Tt(j)?(ee(j),M({type:"closeDialog"})):_t(j)?(L.current=!1,I.current?(I.current.value=null,I.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(j)});return}I.current&&(M({type:"openDialog"}),C(),I.current.value=null,I.current.click())},[M,C,ee,b,le,H,A,u]),re=k.useCallback(function(f){!_.current||!_.current.isEqualNode(f.target)||(f.key===" "||f.key==="Enter"||f.keyCode===32||f.keyCode===13)&&(f.preventDefault(),Z())},[_,Z]),q=k.useCallback(function(){M({type:"focus"})},[]),K=k.useCallback(function(){M({type:"blur"})},[]),R=k.useCallback(function(){B||(Et()?setTimeout(Z,0):Z())},[B,Z]),X=function(j){return n?null:j},ne=function(j){return $?null:X(j)},Q=function(j){return x?null:X(j)},fe=function(j){l&&j.stopPropagation()},kr=k.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=f.refKey,Y=j===void 0?"ref":j,oe=f.role,ue=f.onKeyDown,ve=f.onFocus,me=f.onBlur,ke=f.onClick,Pe=f.onDragEnter,Te=f.onDragOver,je=f.onDragLeave,_e=f.onDrop,Fe=Ee(f,It);return G(G(Be({onKeyDown:ne(de(ue,re)),onFocus:ne(de(ve,q)),onBlur:ne(de(me,K)),onClick:X(de(ke,R)),onDragEnter:Q(de(Pe,se)),onDragOver:Q(de(Te,ce)),onDragLeave:Q(de(je,z)),onDrop:Q(de(_e,ie)),role:typeof oe=="string"&&oe!==""?oe:"presentation"},Y,_),!n&&!$?{tabIndex:0}:{}),Fe)}},[_,re,q,K,R,se,ce,z,ie,$,x,n]),Pr=k.useCallback(function(f){f.stopPropagation()},[]),Tr=k.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=f.refKey,Y=j===void 0?"ref":j,oe=f.onChange,ue=f.onClick,ve=Ee(f,Nt),me=Be({accept:S,multiple:u,type:"file",style:{display:"none"},onChange:X(de(oe,ie)),onClick:X(de(ue,Pr)),tabIndex:-1},Y,I);return G(G({},me),ve)}},[I,t,u,ie,n]);return G(G({},N),{},{isFocused:J&&!n,getRootProps:kr,getInputProps:Tr,rootRef:_,inputRef:I,open:X(Z)})}function Ut(e,r){switch(r.type){case"focus":return G(G({},e),{},{isFocused:!0});case"blur":return G(G({},e),{},{isFocused:!1});case"openDialog":return G(G({},$e),{},{isFileDialogActive:!0});case"closeDialog":return G(G({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return G(G({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return G(G({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return G({},$e);default:return e}}function sr(){}const Ht=({onImagesSelected:e})=>{const[r,t]=k.useState([]),[n,o]=k.useState([]),a=p=>{const m=p.map(O=>URL.createObjectURL(O));t(m),o(p),e(p)},i=()=>{t([]),o([]),e([])},u=p=>{const m=[...r];m.splice(p,1),t(m);const O=[...n];O.splice(p,1),o(O),e(O)},{getRootProps:h,getInputProps:s}=Cr({onDrop:a,disabled:n.length>0});return c.jsxs("section",{children:[c.jsxs("div",{children:[r.length===0&&c.jsxs("article",{...h(),style:{cursor:"pointer",border:"1px dashed #ccc",padding:"55px",textAlign:"center",margin:"0 0"},children:[c.jsx("input",{...s()}),c.jsx("p",{children:"Arrastra y suelta imágenes aquí, o haz clic para seleccionarlas."})]}),r.map((p,m)=>c.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[c.jsx("img",{src:p,alt:`Imagen ${m}`,style:{width:"100px",height:"100px",marginRight:"10px",cursor:"pointer"}}),c.jsx("i",{className:"bx bx-x-circle",onClick:()=>u(m),style:{color:"gray",fontSize:"28px",cursor:"pointer",position:"absolute",top:0,right:0}})]},m))]}),r.length>0&&c.jsx(ur,{variant:"contained",color:"error",onClick:i,style:{marginTop:"10px"},children:"Eliminar todas las imágenes"})]})},qt=Ht,Gt="ARTICULOS",{getAllDocuments:Zt,getDocumentById:Qt,createDocument:Xt,updateDocument:Yt,deleteDocument:Jt,getTotalRecords:en}=Vr(Gt),rn=async e=>({barrioData:(await Se(e.barrioRef)).data()});function tn(){return{getAllArticulos:Zt,getArticuloById:Qt,createArticulo:Xt,updateArticulo:Yt,deleteArticulo:Jt,getTotalRecords:en,getBarrioData:rn}}const be=tn(),nn=Rr(Ir),on=e=>{var r;return{...e,barrioRef:((r=e.barrioRef)==null?void 0:r.path)||null}},an=e=>({...e,barrioRef:e.barrioRef?cr(nn,e.barrioRef):null}),sn={getItem:e=>{const r=sessionStorage.getItem(e);if(r){const t=JSON.parse(r);return{...t,state:{...t.state,articulos:t.state.articulos.map(an)}}}return null},setItem:(e,r)=>{const t=JSON.stringify({...r,state:{...r.state,articulos:r.state.articulos.map(on)}});sessionStorage.setItem(e,t)},removeItem:e=>sessionStorage.removeItem(e)},ln=Kr()(Wr((e,r)=>({articulos:[],totalRecords:0,loading:!1,error:null,fetchArticulos:async()=>{e({loading:!0,error:null});try{const t=await be.getAllArticulos();e({articulos:t,loading:!1})}catch(t){t instanceof Error?e({error:t.message,loading:!1}):e({error:String(t),loading:!1})}},getArticulo:t=>{const{articulos:n}=r();return n.find(o=>o.id===t)},createArticulo:async(t,n)=>{e({loading:!0,error:null});try{await be.createArticulo(t,n),await r().fetchArticulos()}catch(o){o instanceof Error?e({error:o.message,loading:!1}):e({error:String(o),loading:!1})}},updateArticulo:async(t,n)=>{e({loading:!0,error:null});try{await be.updateArticulo(t,n),await r().fetchArticulos()}catch(o){o instanceof Error?e({error:o.message,loading:!1}):e({error:String(o),loading:!1})}},deleteArticulo:async t=>{e({loading:!0,error:null});try{await be.deleteArticulo(t),await r().fetchArticulos()}catch(n){n instanceof Error?e({error:n.message,loading:!1}):e({error:String(n),loading:!1})}},getTotalRecords:async()=>{try{e({loading:!0,error:null});const t=await be.getTotalRecords();e({totalRecords:t,loading:!1})}catch(t){e({loading:!1,error:"Error al obtener el total de articulos"}),console.error(t)}}}),{name:"articulos-store",storage:sn})),We=ln;var Er={exports:{}};(function(e,r){(function(t,n){e.exports=n(k)})(fr,function(t){return function(n){function o(i){if(a[i])return a[i].exports;var u=a[i]={exports:{},id:i,loaded:!1};return n[i].call(u.exports,u,u.exports,o),u.loaded=!0,u.exports}var a={};return o.m=n,o.c=a,o.p="",o(0)}([function(n,o,a){function i(x){return x&&x.__esModule?x:{default:x}}function u(x,l){var d={};for(var v in x)l.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(x,v)&&(d[v]=x[v]);return d}function h(x,l){if(!(x instanceof l))throw new TypeError("Cannot call a class as a function")}function s(x,l){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?x:l}function p(x,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);x.prototype=Object.create(l&&l.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(x,l):x.__proto__=l)}Object.defineProperty(o,"__esModule",{value:!0}),o.conformToMask=void 0;var m=Object.assign||function(x){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(x[v]=d[v])}return x},O=function(){function x(l,d){for(var v=0;v<d.length;v++){var S=d[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,d,v){return d&&x(l.prototype,d),v&&x(l,v),l}}(),F=a(3);Object.defineProperty(o,"conformToMask",{enumerable:!0,get:function(){return i(F).default}});var w=a(11),g=i(w),D=a(9),b=i(D),E=a(5),P=i(E),B=a(2),$=function(x){function l(){var d;h(this,l);for(var v=arguments.length,S=Array(v),A=0;A<v;A++)S[A]=arguments[A];var C=s(this,(d=l.__proto__||Object.getPrototypeOf(l)).call.apply(d,[this].concat(S)));return C.setRef=C.setRef.bind(C),C.onBlur=C.onBlur.bind(C),C.onChange=C.onChange.bind(C),C}return p(l,x),O(l,[{key:"setRef",value:function(d){this.inputElement=d}},{key:"initTextMask",value:function(){var d=this.props,v=this.props.value;this.textMaskInputElement=(0,P.default)(m({inputElement:this.inputElement},d)),this.textMaskInputElement.update(v)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(d){var v=this.props,S=v.value,A=v.pipe,C=v.mask,ee=v.guide,_=v.placeholderChar,I=v.showMask,y={guide:ee,placeholderChar:_,showMask:I},T=typeof A=="function"&&typeof d.pipe=="function"?A.toString()!==d.pipe.toString():(0,B.isNil)(A)&&!(0,B.isNil)(d.pipe)||!(0,B.isNil)(A)&&(0,B.isNil)(d.pipe),N=C.toString()!==d.mask.toString(),M=Object.keys(y).some(function(W){return y[W]!==d[W]})||N||T,J=S!==this.inputElement.value;(J||M)&&this.initTextMask()}},{key:"render",value:function(){var v=this.props,S=v.render,A=u(v,["render"]);return delete A.mask,delete A.guide,delete A.pipe,delete A.placeholderChar,delete A.keepCharPositions,delete A.value,delete A.onBlur,delete A.onChange,delete A.showMask,S(this.setRef,m({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},A))}},{key:"onChange",value:function(d){this.textMaskInputElement.update(),typeof this.props.onChange=="function"&&this.props.onChange(d)}},{key:"onBlur",value:function(d){typeof this.props.onBlur=="function"&&this.props.onBlur(d)}}]),l}(g.default.PureComponent);o.default=$,$.propTypes={mask:b.default.oneOfType([b.default.array,b.default.func,b.default.bool,b.default.shape({mask:b.default.oneOfType([b.default.array,b.default.func]),pipe:b.default.func})]).isRequired,guide:b.default.bool,value:b.default.oneOfType([b.default.string,b.default.number]),pipe:b.default.func,placeholderChar:b.default.string,keepCharPositions:b.default.bool,showMask:b.default.bool},$.defaultProps={render:function(x,l){return g.default.createElement("input",m({ref:x},l))}}},function(n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.placeholderChar="_",o.strFunction="function"},function(n,o,a){function i(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.placeholderChar;if(!u(g))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(g.indexOf(D)!==-1)throw new Error(`Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.

`+("The placeholder character that was received is: "+JSON.stringify(D)+`

`)+("The mask that was received is: "+JSON.stringify(g)));return g.map(function(b){return b instanceof RegExp?D:b}).join("")}function u(g){return Array.isArray&&Array.isArray(g)||g instanceof Array}function h(g){return typeof g=="string"||g instanceof String}function s(g){return typeof g=="number"&&g.length===void 0&&!isNaN(g)}function p(g){return typeof g>"u"||g===null}function m(g){for(var D=[],b=void 0;b=g.indexOf(w),b!==-1;)D.push(b),g.splice(b,1);return{maskWithoutCaretTraps:g,indexes:D}}Object.defineProperty(o,"__esModule",{value:!0}),o.convertMaskToPlaceholder=i,o.isArray=u,o.isString=h,o.isNumber=s,o.isNil=p,o.processCaretTraps=m;var O=a(1),F=[],w="[]"},function(n,o,a){function i(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(0,h.isArray)(F)){if((typeof F>"u"?"undefined":u(F))!==s.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");F=F(O,w),F=(0,h.processCaretTraps)(F).maskWithoutCaretTraps}var g=w.guide,D=g===void 0||g,b=w.previousConformedValue,E=b===void 0?m:b,P=w.placeholderChar,B=P===void 0?s.placeholderChar:P,$=w.placeholder,x=$===void 0?(0,h.convertMaskToPlaceholder)(F,B):$,l=w.currentCaretPosition,d=w.keepCharPositions,v=D===!1&&E!==void 0,S=O.length,A=E.length,C=x.length,ee=F.length,_=S-A,I=_>0,y=l+(I?-_:0),T=y+Math.abs(_);if(d===!0&&!I){for(var N=m,M=y;M<T;M++)x[M]===B&&(N+=B);O=O.slice(0,y)+N+O.slice(y,S)}for(var J=O.split(m).map(function(X,ne){return{char:X,isNew:ne>=y&&ne<T}}),W=S-1;W>=0;W--){var L=J[W].char;if(L!==B){var ae=W>=y&&A===ee;L===x[ae?W-_:W]&&J.splice(W,1)}}var U=m,te=!1;e:for(var H=0;H<C;H++){var se=x[H];if(se===B){if(J.length>0)for(;J.length>0;){var ce=J.shift(),z=ce.char,le=ce.isNew;if(z===B&&v!==!0){U+=B;continue e}if(F[H].test(z)){if(d===!0&&le!==!1&&E!==m&&D!==!1&&I){for(var ie=J.length,Z=null,re=0;re<ie;re++){var q=J[re];if(q.char!==B&&q.isNew===!1)break;if(q.char===B){Z=re;break}}Z!==null?(U+=z,J.splice(Z,1)):H--}else U+=z;continue e}te=!0}v===!1&&(U+=x.substr(H,C));break}U+=se}if(v&&I===!1){for(var K=null,R=0;R<U.length;R++)x[R]===B&&(K=R);U=K!==null?U.substr(0,K+1):m}return{conformedValue:U,meta:{someCharsRejected:te}}}Object.defineProperty(o,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};o.default=i;var h=a(2),s=a(1),p=[],m=""},function(n,o){function a(h){var s=h.previousConformedValue,p=s===void 0?u:s,m=h.previousPlaceholder,O=m===void 0?u:m,F=h.currentCaretPosition,w=F===void 0?0:F,g=h.conformedValue,D=h.rawValue,b=h.placeholderChar,E=h.placeholder,P=h.indexesOfPipedChars,B=P===void 0?i:P,$=h.caretTrapIndexes,x=$===void 0?i:$;if(w===0||!D.length)return 0;var l=D.length,d=p.length,v=E.length,S=g.length,A=l-d,C=A>0,ee=d===0,_=A>1&&!C&&!ee;if(_)return w;var I=C&&(p===g||g===E),y=0,T=void 0,N=void 0;if(I)y=w-A;else{var M=g.toLowerCase(),J=D.toLowerCase(),W=J.substr(0,w).split(u),L=W.filter(function(Q){return M.indexOf(Q)!==-1});N=L[L.length-1];var ae=O.substr(0,L.length).split(u).filter(function(Q){return Q!==b}).length,U=E.substr(0,L.length).split(u).filter(function(Q){return Q!==b}).length,te=U!==ae,H=O[L.length-1]!==void 0&&E[L.length-2]!==void 0&&O[L.length-1]!==b&&O[L.length-1]!==E[L.length-1]&&O[L.length-1]===E[L.length-2];!C&&(te||H)&&ae>0&&E.indexOf(N)>-1&&D[w]!==void 0&&(T=!0,N=D[w]);for(var se=B.map(function(Q){return M[Q]}),ce=se.filter(function(Q){return Q===N}).length,z=L.filter(function(Q){return Q===N}).length,le=E.substr(0,E.indexOf(b)).split(u).filter(function(Q,fe){return Q===N&&D[fe]!==Q}).length,ie=le+z+ce+(T?1:0),Z=0,re=0;re<S;re++){var q=M[re];if(y=re+1,q===N&&Z++,Z>=ie)break}}if(C){for(var K=y,R=y;R<=v;R++)if(E[R]===b&&(K=R),E[R]===b||x.indexOf(R)!==-1||R===v)return K}else if(T){for(var X=y-1;X>=0;X--)if(g[X]===N||x.indexOf(X)!==-1||X===0)return X}else for(var ne=y;ne>=0;ne--)if(E[ne-1]===b||x.indexOf(ne)!==-1||ne===0)return ne}Object.defineProperty(o,"__esModule",{value:!0}),o.default=a;var i=[],u=""},function(n,o,a){function i(l){return l&&l.__esModule?l:{default:l}}function u(l){var d={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:d,update:function(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,A=S.inputElement,C=S.mask,ee=S.guide,_=S.pipe,I=S.placeholderChar,y=I===void 0?b.placeholderChar:I,T=S.keepCharPositions,N=T!==void 0&&T,M=S.showMask,J=M!==void 0&&M;if(typeof v>"u"&&(v=A.value),v!==d.previousConformedValue){(typeof C>"u"?"undefined":m(C))===B&&C.pipe!==void 0&&C.mask!==void 0&&(_=C.pipe,C=C.mask);var W=void 0,L=void 0;if(C instanceof Array&&(W=(0,D.convertMaskToPlaceholder)(C,y)),C!==!1){var ae=s(v),U=A.selectionEnd,te=d.previousConformedValue,H=d.previousPlaceholder,se=void 0;if((typeof C>"u"?"undefined":m(C))===b.strFunction){if(L=C(ae,{currentCaretPosition:U,previousConformedValue:te,placeholderChar:y}),L===!1)return;var ce=(0,D.processCaretTraps)(L),z=ce.maskWithoutCaretTraps,le=ce.indexes;L=z,se=le,W=(0,D.convertMaskToPlaceholder)(L,y)}else L=C;var ie={previousConformedValue:te,guide:ee,placeholderChar:y,pipe:_,placeholder:W,currentCaretPosition:U,keepCharPositions:N},Z=(0,g.default)(ae,L,ie),re=Z.conformedValue,q=(typeof _>"u"?"undefined":m(_))===b.strFunction,K={};q&&(K=_(re,p({rawValue:ae},ie)),K===!1?K={value:te,rejected:!0}:(0,D.isString)(K)&&(K={value:K}));var R=q?K.value:re,X=(0,F.default)({previousConformedValue:te,previousPlaceholder:H,conformedValue:R,placeholder:W,rawValue:ae,currentCaretPosition:U,placeholderChar:y,indexesOfPipedChars:K.indexesOfPipedChars,caretTrapIndexes:se}),ne=R===W&&X===0,Q=J?W:E,fe=ne?Q:R;d.previousConformedValue=fe,d.previousPlaceholder=W,A.value!==fe&&(A.value=fe,h(A,X))}}}}}function h(l,d){document.activeElement===l&&($?x(function(){return l.setSelectionRange(d,d,P)},0):l.setSelectionRange(d,d,P))}function s(l){if((0,D.isString)(l))return l;if((0,D.isNumber)(l))return String(l);if(l==null)return E;throw new Error(`The 'value' provided to Text Mask needs to be a string or a number. The value received was:

 `+JSON.stringify(l))}Object.defineProperty(o,"__esModule",{value:!0});var p=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])}return l},m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};o.default=u;var O=a(4),F=i(O),w=a(3),g=i(w),D=a(2),b=a(1),E="",P="none",B="object",$=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),x=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout},function(n,o){function a(u){return function(){return u}}var i=function(){};i.thatReturns=a,i.thatReturnsFalse=a(!1),i.thatReturnsTrue=a(!0),i.thatReturnsNull=a(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(u){return u},n.exports=i},function(n,o,a){function i(u,h,s,p,m,O,F,w){if(!u){var g;if(h===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var D=[s,p,m,O,F,w],b=0;g=new Error(h.replace(/%s/g,function(){return D[b++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}}n.exports=i},function(n,o,a){var i=a(6),u=a(7),h=a(10);n.exports=function(){function s(O,F,w,g,D,b){b!==h&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function p(){return s}s.isRequired=s;var m={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:p,element:s,instanceOf:p,node:s,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p};return m.checkPropTypes=i,m.PropTypes=m,m}},function(n,o,a){n.exports=a(8)()},function(n,o){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=a},function(n,o){n.exports=t}])})})(Er);var un=Er.exports;const cn=dr(un);var Sr={exports:{}};(function(e,r){(function(t,n){e.exports=n()})(fr,function(){return function(t){function n(a){if(o[a])return o[a].exports;var i=o[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var o={};return n.m=t,n.c=o,n.p="",n(0)}([function(t,n,o){t.exports=o(2)},,function(t,n){function o(){function E(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,le=z.length;if(z===s||z[0]===$[0]&&le===1)return $.split(s).concat([D]).concat(l.split(s));if(z===I&&ee)return $.split(s).concat(["0",I,D]).concat(l.split(s));var ie=z[0]===O&&W;ie&&(z=z.toString().substr(1));var Z=z.lastIndexOf(I),re=Z!==-1,q=void 0,K=void 0,R=void 0;if(z.slice(se*-1)===l&&(z=z.slice(0,se*-1)),re&&(ee||M)?(q=z.slice(z.slice(0,H)===$?H:0,Z),K=z.slice(Z+1,le),K=a(K.replace(w,s))):q=z.slice(0,H)===$?z.slice(H):z,te&&(typeof te>"u"?"undefined":u(te))===g){var X=A==="."?"[.]":""+A,ne=(q.match(new RegExp(X,"g"))||[]).length;q=q.slice(0,te+ne*ce)}return q=q.replace(w,s),ae||(q=q.replace(/^0+(0$|[^0])/,"$1")),q=v?i(q,A):q,R=a(q),(re&&ee||M===!0)&&(z[Z-1]!==I&&R.push(b),R.push(I,b),K&&((typeof T>"u"?"undefined":u(T))===g&&(K=K.slice(0,T)),R=R.concat(K)),M===!0&&z[Z-1]===I&&R.push(D)),H>0&&(R=$.split(s).concat(R)),ie&&(R.length===H&&R.push(D),R=[F].concat(R)),l.length>0&&(R=R.concat(l.split(s))),R}var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=P.prefix,$=B===void 0?h:B,x=P.suffix,l=x===void 0?s:x,d=P.includeThousandsSeparator,v=d===void 0||d,S=P.thousandsSeparatorSymbol,A=S===void 0?p:S,C=P.allowDecimal,ee=C!==void 0&&C,_=P.decimalSymbol,I=_===void 0?m:_,y=P.decimalLimit,T=y===void 0?2:y,N=P.requireDecimal,M=N!==void 0&&N,J=P.allowNegative,W=J!==void 0&&J,L=P.allowLeadingZeroes,ae=L!==void 0&&L,U=P.integerLimit,te=U===void 0?null:U,H=$&&$.length||0,se=l&&l.length||0,ce=A&&A.length||0;return E.instanceOf="createNumberMask",E}function a(E){return E.split(s).map(function(P){return D.test(P)?D:P})}function i(E,P){return E.replace(/\B(?=(\d{3})+(?!\d))/g,P)}Object.defineProperty(n,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};n.default=o;var h="$",s="",p=",",m=".",O="-",F=/-/,w=/\D+/g,g="number",D=/\d/,b="[]"}])})})(Sr);var fn=Sr.exports;const dn=dr(fn),pn=dn({prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:".",allowDecimal:!0,decimalSymbol:",",decimalLimit:2,integerLimit:null,allowNegative:!1,allowLeadingZeroes:!1}),mn=({name:e,control:r,label:t,helperText:n,...o})=>c.jsx(Nr,{name:e,control:r,render:({field:a})=>c.jsx(cn,{...a,mask:pn,render:(i,u)=>c.jsx(pr,{fullWidth:!0,...u,inputRef:i,label:t,error:!!n,helperText:n,...o})})}),gn=mn;var Ue=(e=>(e.Nuevo="Nuevo",e.Usado="Usado",e))(Ue||{}),xe=(e=>(e.Publicado="Publicado",e.NoPublicado="No publicado",e))(xe||{});const hn=Object.values(Ue),vn=Object.values(xe),{db:bn}=zr,yn={id:"",nombre:"",precio:"",imagenURLs:[],barrioRef:null,descripcion:null,estadoArticulo:Ue.Nuevo,estadoPublicacion:xe.NoPublicado,audit:{updated_by:null,created_by:null,created_at:new Date().getTime(),updated_at:new Date().getTime()}};function lr({isEditMode:e}){var _,I;const r=mr(),{id:t}=gr(),{barrios:n,fetchBarrios:o}=Ur(),[a,i]=k.useState(null),[u,h]=k.useState(null),{createArticulo:s,updateArticulo:p,getArticulo:m,loading:O,error:F}=We(),w=Mr({defaultValues:yn,mode:"onTouched"}),{control:g,register:D,formState:b,handleSubmit:E,setValue:P,getValues:B,watch:$,reset:x}=w,{errors:l,isSubmitting:d,isValid:v}=b;k.useEffect(()=>{(async()=>{if(e&&t)try{const T=await m(t);if(T&&(x({...T}),T.barrioRef)){const N=await Se(T.barrioRef);N.exists()&&i(N.data())}}catch(T){console.error("Error loading articulo:",T)}})()},[e,t,x,m]),k.useEffect(()=>{n.length||o()},[n,o]);const S=(y,T)=>{if(T&&T.id){const N=cr(bn,"BARRIOS",T.id);P("barrioRef",N),i(T)}else P("barrioRef",null),i(null)},A=y=>{const T=new DataTransfer;y.forEach(M=>T.items.add(M));const N=T.files;h(N)},C=async y=>{const T=B("barrioRef"),N={...y,barrioRef:T};e?await p(N,u):await s(N,u),r("/articulos")},ee=y=>{console.log({errors:y})};return O?c.jsx("div",{children:"Loading..."}):F?c.jsxs("div",{children:["Error: ",F]}):c.jsxs(Ve,{children:[c.jsx("header",{className:"mb-4 d-flex justify-content-between align-items-center",children:c.jsx("h2",{children:e?"Editar articulo":"Nuevo articulo"})}),c.jsxs("form",{onSubmit:E(C,ee),noValidate:!0,children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("div",{className:"col-md-12 mb-3",children:c.jsx(Lr,{autoFocus:!0,type:"text",name:"nombre",label:"Nombre",register:D("nombre"),error:(_=l.nombre)==null?void 0:_.message})}),c.jsx("div",{className:"col-md-12 mb-3",children:c.jsx(gn,{size:"small",control:g,name:"precio",label:"Precio",helperText:(I=l.precio)==null?void 0:I.message})}),c.jsx("div",{className:"col-md-12 mb-3",children:c.jsxs(He,{fullWidth:!0,children:[c.jsx(qe,{children:"Estado publicacion"}),c.jsx(Ge,{size:"small",label:"Estado publicacion",value:$("estadoPublicacion"),onChange:y=>P("estadoPublicacion",y.target.value),children:vn.map(y=>c.jsx(Ze,{value:y,children:y},y))})]})}),c.jsx("div",{className:"col-md-12 mb-3",children:c.jsxs(He,{fullWidth:!0,children:[c.jsx(qe,{children:"Estado articulo"}),c.jsx(Ge,{size:"small",label:"Estado articulo",value:$("estadoArticulo"),onChange:y=>P("estadoArticulo",y.target.value),children:hn.map(y=>c.jsx(Ze,{value:y,children:y},y))})]})}),c.jsx("div",{className:"col-md-12 mb-3",children:c.jsx(Hr,{fullWidth:!0,size:"small",value:a,options:n,onChange:S,getOptionLabel:y=>`${y.nombre}`,isOptionEqualToValue:(y,T)=>y.id===T.id,renderInput:y=>c.jsx(pr,{...y,label:"Barrio"})})})]}),c.jsx("div",{className:"col-md-6",children:c.jsx("div",{className:"col-md-12 mb-3",children:c.jsx(qt,{onImagesSelected:A})})})]}),c.jsx(ur,{type:"submit",variant:"contained",sx:{marginTop:2},disabled:d||!v,color:e?"success":"primary",children:e?"Actualizar":"Guardar"})]})]})}function xn(){const e=gr(),[r,t]=k.useState(null),[n,o]=k.useState(void 0),{getArticulo:a,loading:i,error:u}=We();return k.useEffect(()=>{const h=e.id;if(h){const s=a(h);o(s),s!=null&&s.barrioRef&&Se(s.barrioRef).then(p=>{p.exists()?t(p.data()):console.log("No such document!")}).catch(p=>{console.error("Error getting document:",p)})}},[a,e.id]),c.jsxs(Ve,{children:[c.jsx("header",{className:"d-flex justify-content-between align-items-center",children:c.jsx("h2",{children:n==null?void 0:n.nombre})}),i?c.jsx("p",{children:"Cargando articulo..."}):u?c.jsxs("p",{children:["Error al cargar articulo: ",u]}):n?c.jsx("div",{className:"mt-3",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("p",{children:n==null?void 0:n.precio}),c.jsx("p",{children:r})]}),c.jsx("div",{className:"col-md-6",children:c.jsx("img",{src:n.imagenURLs[0],width:350,alt:n==null?void 0:n.nombre})})]})}):c.jsxs("p",{children:["No se encontró articulo con ID ",e.id]})]})}function wn(){return{getClassByState:r=>{let t="";switch(r){case xe.Publicado:t="badge text-bg-primary";break;case xe.NoPublicado:t="badge text-bg-danger";break;default:t="badge text-bg-default";break}return t}}}function jn(){const e=mr(),{dialogConfirm:r}=Yr(),{getClassByState:t}=wn(),[n,o]=k.useState([]),{articulos:a,loading:i,error:u,fetchArticulos:h,deleteArticulo:s}=We();k.useEffect(()=>{(async()=>{const g=await Promise.all(a.map(async D=>{let b="";if(D.barrioRef){const E=await Se(D.barrioRef);if(E.exists()){const P=E.data();P&&(b=`${P.nombre||""}`)}}return{...D,barrioNombre:b}}));o(g)})()},[a]);const p=({row:w})=>c.jsx(Br,{title:`Ver detalles de ${w.nombre}`,className:"grid-table-linkable-column",to:`/articulos/detalles/${w.id}`,children:w.nombre}),m=w=>c.jsxs(c.Fragment,{children:[c.jsx(Qr,{color:"#00abfb",cursor:"pointer",onClick:()=>e(`/articulos/editar/${w.id}`)}),c.jsx(Xr,{color:"#ff2825",cursor:"pointer",style:{marginLeft:15},onClick:()=>O(w)})]}),O=async({row:w})=>{const g=`Vas a eliminar el articulo ${w.nombre}`,{isConfirmed:D}=await r(g);D&&s(w.id)},F=[{field:"nombre",headerName:"Nombre",width:300,editable:!0,renderCell:p},{field:"precio",headerName:"Precio",width:170,editable:!0},{field:"estadoArticulo",headerName:"Estado articulo",width:180,editable:!0},{field:"estadoPublicacion",headerName:"Estado publicación",width:180,editable:!0,renderCell:({row:w})=>{const g=t(w.estadoPublicacion);return c.jsx("span",{className:g,children:w.estadoPublicacion})}},{field:"barrioNombre",headerName:"Barrio",width:170,editable:!0},{field:" ",renderCell:m}];return k.useEffect(()=>{h()},[h]),i?c.jsx("div",{children:"Loading..."}):u?c.jsxs("div",{children:["Error: ",u]}):c.jsxs(Ve,{children:[c.jsxs("header",{className:"d-flex justify-content-between align-items-center",children:[c.jsx("h2",{children:"Lista de Articulos"}),c.jsx("button",{onClick:()=>e("/articulos/nuevo"),className:"btn btn-primary",children:"Crear articulo"})]}),c.jsx(qr,{sx:{height:"100%",width:"100%",marginTop:1},children:c.jsx(Gr,{columns:F,density:"compact",checkboxSelection:!0,disableColumnFilter:!0,rows:n,disableColumnSelector:!0,pageSizeOptions:[12],disableDensitySelector:!0,disableRowSelectionOnClick:!0,slots:{toolbar:Zr},slotProps:{toolbar:{showQuickFilter:!0}},initialState:{pagination:{paginationModel:{pageSize:12}}},sx:{border:"none",overflowX:"hidden","& .css-128fb87-MuiDataGrid-toolbarContainer":{display:"flex",marginTop:"12px",marginBottom:"22px",flexDirection:"row-reverse"}},localeText:{toolbarExport:"Exportar",toolbarQuickFilterPlaceholder:"Buscar..."}})})]})}function Cn(){return c.jsxs($r,{children:[c.jsx(De,{path:"/",element:c.jsx(jn,{})}),c.jsx(De,{path:"/nuevo",element:c.jsx(lr,{isEditMode:!1})}),c.jsx(De,{path:"/editar/:id",element:c.jsx(lr,{isEditMode:!0})}),c.jsx(De,{path:"/detalles/:id",element:c.jsx(xn,{})})]})}export{Cn as default};
